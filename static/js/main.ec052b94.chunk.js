(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n.n(a),s=n(42),i=n.n(s),c=(n(48),n(5)),l=n(26),d=n(16),r=(n(49),n(50),n(43)),u=n(34),b=n(10),j=["value","onChange"];var m=function(e){var t=e.value,n=e.onChange,o=Object(r.a)(e,j),s=Object(a.useState)(null),i=Object(d.a)(s,2),c=i[0],m=i[1],h=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=h.current;e&&e.setSelectionRange(c,c)}),[h,c,t]),Object(b.jsx)(u.a,Object(l.a)({ref:h,value:t,onChange:function(e){m(e.target.selectionStart),n&&n(e)}},o))};var h=function(e){return Object(b.jsxs)("div",{className:"list-item-container",children:[Object(b.jsx)(m,{id:"list-item-label",value:e.listName,onChange:function(t){e.onListFieldChanged(e.listID,"listName",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("list-item-label")&&document.getElementById("list-item-label").blur())}}),Object(b.jsx)("div",{className:"button-container",children:Object(b.jsx)("button",{className:"view-list-button",onClick:function(){e.onListSelected(e.listID),e.showHomepage(!1),document.getElementById("home-button")&&document.getElementById("home-button").focus()},children:"View"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{"aria-label":"Delete list button",className:"delete-list-button",onClick:function(){e.onDeleteList(e.listID)},children:"X"})})]})};n(52);var O=function(e){return Object(b.jsx)("div",{id:"list-container",children:Object(b.jsx)("div",{className:"checklist",children:e.listData.map((function(t){return Object(b.jsx)(h,{listID:t.id,listName:t.listName,currListID:e.currListID,currListName:e.currListName,onListSelected:e.onListSelected,homepage:e.homepage,showHomepage:e.showHomepage,onDeleteList:e.onDeleteList,onListFieldChanged:e.onListFieldChanged})}))})})};n(53);var p=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(b.jsxs)("div",{className:"add-task-container",children:[Object(b.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new list",value:o,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==o&&"Enter"===t.key&&(e.onAddList(o),s(""))}}),Object(b.jsx)("button",{id:""!==o?"list-add-button":"list-add-button-disabled",tabIndex:""!==o?0:1,onClick:function(){""!==o&&(e.onAddList(o),s(""))},children:"Add"})]})};n(54);var f=function(e){var t=Object(a.useState)(e.taskLabel),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(b.jsxs)("div",{className:"task-container",children:[Object(b.jsx)("input",{type:"checkbox",className:"checkbox",checked:e.isCompleted,onChange:function(t){e.onTaskFieldChanged(e.taskId,"isCompleted",t.target.checked)},onKeyPress:function(t){"Enter"===t.key&&e.onTaskFieldChanged(e.taskId,"isCompleted",!e.isCompleted)}}),Object(b.jsx)(u.a,{id:e.isCompleted?"task-label-strikethrough":"task-label",value:o,onChange:function(e){return s(e.target.value)},onBlur:function(t){return e.onTaskFieldChanged(e.taskId,"taskLabel",o)},onKeyPress:function(e){"Enter"===e.key&&document.getElementById("task-label")&&(e.preventDefault(),document.getElementById("task-label").blur())},disabled:e.isCompleted}),Object(b.jsx)("div",{className:"button-container",children:Object(b.jsx)("button",{className:"priority-button",id:3===e.priority?"high":2===e.priority?"medium":"low","aria-label":(3===e.priority?"high":2===e.priority?"medium":"low")+" priority",onClick:function(){e.onChangePriority(e.taskId,e.priority)},children:"!".repeat(e.priority)})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"delete-list-button","aria-label":"delete",onClick:function(){e.onDeleteTask(e.taskId)},children:"X"})})]})};n(55);var k=function(e){return Object(b.jsx)("div",{id:"list-container",children:Object(b.jsx)("div",{className:"checklist",children:e.taskList.map((function(t){return Object(a.createElement)(f,Object(l.a)(Object(l.a)({},t),{},{key:t.taskId,onDeleteTask:e.onDeleteTask,onTaskFieldChanged:e.onTaskFieldChanged,onChangePriority:e.onChangePriority}))}))})})};n(56);var C=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(b.jsxs)("div",{className:"add-task-container",children:[Object(b.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new task",value:o,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==o&&"Enter"===t.key&&(e.onAddTask(o),s(""))}}),Object(b.jsx)("button",{className:""!==o?"add-button":"add-button-disabled",tabIndex:""!==o?0:1,onClick:function(){""!==o&&(e.onAddTask(o),s(""))},children:"Add"})]})};n(57);document.getElementById("alert-cancel")&&document.getElementById("alert-cancel").hasFocus()&&console.log("on cancel");var x=function(e){return Object(b.jsx)("div",{className:"backdrop",children:Object(b.jsxs)("div",{id:"modal",children:[e.children,Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{id:"alert-ok",onClick:function(){e.onOK(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-cancel").focus())},children:"OK"}),Object(b.jsx)("button",{tabIndex:"0",className:"alert-button",id:"alert-cancel",onClick:function(){return e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-ok").focus())},children:"Cancel"})]})]})})};n(58);var v=function(e){return Object(b.jsx)("div",{className:"sort-backdrop",children:Object(b.jsxs)("div",{className:"sort-modal",children:[e.children,Object(b.jsxs)("div",{className:"sort-buttons",children:[Object(b.jsx)("div",{id:"sort-by",children:"Sort by:"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-date",type:"button",onClick:function(){e.onSortByCreationDate(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-name").focus())},children:"dateCreated"===e.sortOption?"\u2713 Date Created":"Date Created"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-name",type:"button",onClick:function(){e.onSortByName(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-priority").focus())},children:"taskLabel"===e.sortOption?"\u2713 Name":"Name"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-priority",type:"button",onClick:function(){e.onSortByPriority(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-date").focus())},children:"priority"===e.sortOption?"\u2713 Priority":"Priority"})]})]})})};n(59);var y=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(d.a)(i,2),l=c[0],r=c[1];function u(){s(!o)}function j(){r(!l)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"toolbar",children:[Object(b.jsxs)("button",{id:"sort-button",className:"toolbar-button",onClick:j,children:[Object(b.jsx)("i",{id:"sort-icon",className:"las la-sort-amount-down"}),Object(b.jsx)("br",{}),"Sort"]}),l&&Object(b.jsx)(v,{className:"toolbar-button",sortOption:e.sortOption,onClose:j,onSortByName:function(){e.onSortSelected("taskLabel")},onSortByPriority:function(){e.onSortSelected("priority")},onSortByCreationDate:function(){e.onSortSelected("dateCreated")}}),Object(b.jsxs)("button",{className:"toolbar-button",id:"hide-button",onClick:function(){e.showCompleted?e.onSetShowCompleted(!1):e.onSetShowCompleted(!0)},children:[Object(b.jsx)("i",{id:"hide-icon",className:e.showCompleted?"las la-eye-slash":"las la-eye"}),Object(b.jsx)("br",{}),e.showCompleted?"Hide Completed":"Show All"]}),Object(b.jsxs)("button",{className:"toolbar-button",id:0!==e.numCompleted?"delete-button":"delete-completed-button-hidden",disabled:0===e.numCompleted,onClick:u,children:[Object(b.jsx)("i",{id:"delete-icon",className:"las la-trash"}),Object(b.jsx)("br",{}),"Delete Completed"]})]}),o&&Object(b.jsx)(x,{onClose:u,onOK:function(){e.onDeleteTasks()},children:Object(b.jsxs)("div",{children:["Are you sure you want to delete all ",e.numCompleted," completed tasks?"]})})]})};var g=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),o=n[0],s=n[1],i=e.taskList.filter((function(e){return o||!e.isCompleted})),c=e.taskList.filter((function(e){return e.isCompleted})).length,l=Object(a.useState)(!0),r=Object(d.a)(l,2),u=r[0],j=r[1];return u?Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsxs)("div",{className:"heading",children:[Object(b.jsx)("h1",{children:Object(b.jsx)("div",{"aria-label":"Task Manager",className:"title",children:"Task Manager"})}),Object(b.jsx)("div",{className:"header",children:Object(b.jsx)("h2",{children:"All Lists"})})]}),Object(b.jsx)("div",{className:"top-button-bar",children:Object(b.jsx)("div",{className:"add-task",children:Object(b.jsx)(p,{onAddList:e.handleAddList,onListSelected:e.handleListSelected})})}),Object(b.jsx)("div",{className:"taskList",children:Object(b.jsx)(O,{listData:e.listData,currListID:e.currListID,currListName:e.currListName,onListSelected:e.handleListSelected,showHomepage:j,onDeleteList:e.handleDeleteList,onListFieldChanged:e.handleListFieldChanged})})]}):Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsxs)("div",{className:"heading",children:[Object(b.jsxs)("h1",{children:[Object(b.jsx)("button",{id:"home-button","aria-label":"Home Button",onClick:function(){j(!0)},children:Object(b.jsx)("i",{className:"las la-angle-left"})}),Object(b.jsx)("div",{className:"title",children:"Task Manager"})]}),Object(b.jsx)("div",{children:Object(b.jsx)("h2",{children:e.currListName})})]}),Object(b.jsx)("div",{className:"top-button-bar",children:Object(b.jsx)("div",{className:"add-task",children:Object(b.jsx)(C,{taskList:i,onSetTaskList:e.setTaskList,onAddTask:e.handleAddTask})})}),Object(b.jsx)("div",{className:"taskList",children:Object(b.jsx)(k,{taskList:i,onDeleteTask:e.handleDeleteTask,onChangePriority:e.handleChangePriority,onDeleteTasks:e.handleDeleteTasks,onTaskFieldChanged:e.handleTaskFieldChanged,numCompleted:c})}),Object(b.jsx)("div",{className:"bottomBar",children:Object(b.jsx)(y,{onDeleteTasks:e.handleDeleteTasks,showCompleted:o,onSetShowCompleted:s,numCompleted:c,onSortSelected:e.handleSortSelected,sortOption:e.sortOption})})]})},N=n(39),L=n.p+"static/media/LoadingSymbol.e9f28dc7.gif",S=n(36),D=n(40);S.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var I=S.a.firestore();var w=function(e){var t="em-zhang-tasks-v6",n=I.collection(t),o=Object(D.a)(n),s=Object(d.a)(o,1)[0],i=[];s&&(i=s.docs.map((function(e){return Object(l.a)({},e.data())})));var r=Object(a.useState)("default-list"),u=Object(d.a)(r,2),j=u[0],m=u[1],h=I.collection(t).doc(j).collection("list-items"),O=Object(a.useState)("dateCreated"),p=Object(d.a)(O,2),f=p[0],k=p[1];h=h.orderBy(f,"priority"===f?"desc":"asc");var C=Object(D.a)(h),x=Object(d.a)(C,3),v=x[0],y=x[1],w=(x[2],[]);v&&(w=v.docs.map((function(e){return Object(l.a)({},e.data())})));var T="";return i.length>0&&i.filter((function(e){return e.id===j})).length>0&&(T=i.filter((function(e){return e.id===j}))[0].listName),Object(b.jsxs)("div",{children:[Object(b.jsx)(g,{listData:i,currListID:j,currListName:T,handleAddList:function(e){var n=Object(N.a)();return I.collection(t).doc(n).set({id:n,listName:e}),n},handleListSelected:function(e){m(e)},handleDeleteList:function(e){I.collection(t).doc(e).delete()},handleListFieldChanged:function(e,n,a){I.collection(t).doc(e).update(Object(c.a)({},n,a))},taskList:w,handleDeleteTask:function(e){I.collection(t).doc(j).collection("list-items").doc(e).delete()},handleChangePriority:function(e,n){var a=I.collection(t).doc(j).collection("list-items").doc(e);1===n?a.update({priority:2}):2===n?a.update({priority:3}):3===n&&a.update({priority:1})},handleDeleteTasks:function(){I.collection(t).doc(j).collection("list-items").where("isCompleted","==",!0).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},handleAddTask:function(e){var n=Object(N.a)();return I.collection(t).doc(j).collection("list-items").doc(n).set({taskId:n,taskLabel:e,isCompleted:!1,priority:1,dateCreated:S.a.database.ServerValue.TIMESTAMP}),n},handleTaskFieldChanged:function(e,n,a){I.collection(t).doc(j).collection("list-items").doc(e).update(Object(c.a)({},n,a))},handleSortSelected:function(e){k(e)},sortOption:f}),y&&Object(b.jsx)("div",{className:"loading-message",children:Object(b.jsx)("img",{src:L,alt:"Loading..."})})]})};i.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(w,{initialData:[{taskId:0,taskLabel:"Get lunch at dining hall",isCompleted:!0},{taskId:1,taskLabel:"Buy textbooks",isCompleted:!1},{taskId:2,taskLabel:"Watch videos about React",isCompleted:!0},{taskId:3,taskLabel:"Call Mom",isCompleted:!1},{taskId:4,taskLabel:"Meet with Prof. Rhodes",isCompleted:!1}]})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.ec052b94.chunk.js.map