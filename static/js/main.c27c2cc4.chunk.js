(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{45:function(e,t,n){},47:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var i=n(14),a=n.n(i),s=n(48),o=n.n(s),c=(n(54),n(5)),r=n(26),l=n(15),d=(n(55),n(56),n(49)),u=n(33),b=n(6),j=["value","onChange"];var h=function(e){var t=e.value,n=e.onChange,a=Object(d.a)(e,j),s=Object(i.useState)(null),o=Object(l.a)(s,2),c=o[0],h=o[1],m=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=m.current;e&&e.setSelectionRange(c,c)}),[m,c,t]),Object(b.jsx)(u.a,Object(r.a)({ref:m,value:t,onChange:function(e){h(e.target.selectionStart),n&&n(e)}},a))};var m=function(e){return Object(b.jsxs)("div",{className:"list-item-container",children:[Object(b.jsx)(h,{id:"list-item-label",value:e.listName,onChange:function(t){e.onListFieldChanged(e.listID,"listName",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("list-item-label")&&document.getElementById("list-item-label").blur())}}),Object(b.jsx)("div",{className:"collab-icon",children:Object(b.jsx)("i",{className:e.editors.length>1?"las la-user-friends":null})}),Object(b.jsx)("div",{className:"button-container",children:Object(b.jsx)("button",{className:"view-list-button",onClick:function(){e.onListSelected(e.listID),e.showHomepage(!1),document.getElementById("home-button")&&document.getElementById("home-button").focus()},children:"View"})}),Object(b.jsx)("button",{"aria-label":"Delete list button",className:"delete-list-button",onClick:function(){e.onDeleteList(e.listID)},children:"X"})]})};n(45),n(58);var O=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(b.jsxs)("div",{className:"add-task-container",children:[Object(b.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new list",value:a,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==a&&"Enter"===t.key&&(e.onAddList(a),s(""))}}),Object(b.jsx)("button",{id:""!==a?"list-add-button":"list-add-button-disabled",tabIndex:""!==a?0:1,onClick:function(){""!==a&&(e.onAddList(a),s(""))},children:"Add"})]})};var f=function(e){return Object(b.jsxs)("div",{className:"list-page",children:[Object(b.jsx)("div",{className:"top-button-bar",children:Object(b.jsx)("div",{className:"add-task",children:Object(b.jsx)(O,{onAddList:e.onAddList,onListSelected:e.onListSelected})})}),Object(b.jsx)("div",{id:"list-container",children:Object(b.jsxs)("div",{className:"checklist",children:[0===e.listData.length?"No current lists.":null,e.listData.map((function(t){return Object(b.jsx)(m,{isOwner:e.isOwner,editors:t.editors,listID:t.id,listName:t.listName,currListID:e.currListID,currListName:e.currListName,onListSelected:e.onListSelected,homepage:e.homepage,showHomepage:e.showHomepage,onDeleteList:e.onDeleteList,onListFieldChanged:e.onListFieldChanged})}))]})})]})};n(59);var p=function(e){var t=Object(i.useState)(e.taskLabel),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(b.jsxs)("div",{className:"task-container",children:[Object(b.jsx)("input",{type:"checkbox",className:"checkbox",checked:e.isCompleted,onChange:function(t){e.onTaskFieldChanged(e.taskId,"isCompleted",t.target.checked)},onKeyPress:function(t){"Enter"===t.key&&e.onTaskFieldChanged(e.taskId,"isCompleted",!e.isCompleted)}}),Object(b.jsx)(u.a,{id:e.isCompleted?"task-label-strikethrough":"task-label",value:a,onChange:function(e){return s(e.target.value)},onBlur:function(t){return e.onTaskFieldChanged(e.taskId,"taskLabel",a)},onKeyPress:function(e){"Enter"===e.key&&document.getElementById("task-label")&&(e.preventDefault(),document.getElementById("task-label").blur())},disabled:e.isCompleted}),Object(b.jsx)("div",{className:"button-container",children:Object(b.jsx)("button",{className:"priority-button",id:3===e.priority?"high":2===e.priority?"medium":"low","aria-label":(3===e.priority?"high":2===e.priority?"medium":"low")+" priority",onClick:function(){e.onChangePriority(e.taskId,e.priority)},children:"!".repeat(e.priority)})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"delete-list-button","aria-label":"delete",onClick:function(){e.onDeleteTask(e.taskId)},children:"X"})})]})};n(60);var g=function(e){return Object(b.jsx)("div",{id:"list-container",children:Object(b.jsxs)("div",{className:"checklist",children:[0===e.taskList.length?"No current tasks.":null,e.taskList.map((function(t){return Object(i.createElement)(p,Object(r.a)(Object(r.a)({},t),{},{key:t.taskId,onDeleteTask:e.onDeleteTask,onTaskFieldChanged:e.onTaskFieldChanged,onChangePriority:e.onChangePriority}))}))]})})};n(61);var v=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(b.jsxs)("div",{className:"add-task-container",children:[Object(b.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new task",value:a,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==a&&"Enter"===t.key&&(e.onAddTask(a),s(""))}}),Object(b.jsx)("button",{className:""!==a?"add-button":"add-button-disabled",tabIndex:""!==a?0:1,onClick:function(){""!==a&&(e.onAddTask(a),s(""))},children:"Add"})]})};n(62);document.getElementById("alert-cancel")&&document.getElementById("alert-cancel").hasFocus()&&console.log("on cancel");var x=function(e){return Object(b.jsx)("div",{className:"backdrop",children:Object(b.jsxs)("div",{id:"modal",children:[e.children,Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{id:"alert-ok",onClick:function(){e.onOK(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-cancel").focus())},children:"OK"}),Object(b.jsx)("button",{tabIndex:"0",className:"alert-button",id:"alert-cancel",onClick:function(){return e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-ok").focus())},children:"Cancel"})]})]})})};n(63);var k=function(e){return Object(b.jsx)("div",{className:"sort-backdrop",children:Object(b.jsxs)("div",{className:"sort-modal",children:[e.children,Object(b.jsxs)("div",{className:"sort-buttons",children:[Object(b.jsx)("div",{id:"sort-by",children:"Sort by:"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-date",type:"button",onClick:function(){e.onSortByCreationDate(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-name").focus())},children:"dateCreated"===e.sortOption?"\u2713 Date Created":"Date Created"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-name",type:"button",onClick:function(){e.onSortByName(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-priority").focus())},children:"taskLabel"===e.sortOption?"\u2713 Name":"Name"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-priority",type:"button",onClick:function(){e.onSortByPriority(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-date").focus())},children:"priority"===e.sortOption?"\u2713 Priority":"Priority"})]})]})})};n(64);var y=function(e){var t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],o=Object(i.useState)(!1),c=Object(l.a)(o,2),r=c[0],d=c[1];function u(){s(!a)}function j(){d(!r)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"toolbar",children:[Object(b.jsxs)("button",{id:"sort-button",className:"toolbar-button",onClick:j,children:[Object(b.jsx)("i",{id:"sort-icon",className:"las la-sort-amount-down"}),Object(b.jsx)("br",{}),"Sort"]}),r&&Object(b.jsx)(k,{className:"toolbar-button",sortOption:e.sortOption,onClose:j,onSortByName:function(){e.onSortSelected("taskLabel")},onSortByPriority:function(){e.onSortSelected("priority")},onSortByCreationDate:function(){e.onSortSelected("dateCreated")}}),Object(b.jsxs)("button",{className:"toolbar-button",id:"hide-button",onClick:function(){e.showCompleted?e.onSetShowCompleted(!1):e.onSetShowCompleted(!0)},children:[Object(b.jsx)("i",{id:"hide-icon",className:e.showCompleted?"las la-eye-slash":"las la-eye"}),Object(b.jsx)("br",{}),e.showCompleted?"Hide Completed":"Show All"]}),Object(b.jsxs)("button",{className:"toolbar-button",id:0!==e.numCompleted?"delete-button":"delete-completed-button-hidden",disabled:0===e.numCompleted,onClick:u,children:[Object(b.jsx)("i",{id:"delete-icon",className:"las la-trash"}),Object(b.jsx)("br",{}),"Delete Completed"]})]}),a&&Object(b.jsx)(x,{onClose:u,onOK:function(){e.onDeleteTasks()},children:Object(b.jsxs)("div",{children:["Are you sure you want to delete all ",e.numCompleted," completed tasks?"]})})]})};n(65),n(66);var N=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(b.jsxs)("div",{className:"add-editor-container",children:[Object(b.jsx)("input",{className:"editor-input",type:"email",id:"new-todo-text",placeholder:"editor@example.com",value:a,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==a&&"Enter"===t.key&&(e.onAddEditor(a),s(""))}}),Object(b.jsx)("button",{className:""!==a?"add-button":"add-button-disabled",tabIndex:""!==a?0:1,onClick:function(){""!==a&&(e.onAddEditor(a),s(""))},children:"Add"})]})};n(67),n(68);var C=function(e){return Object(b.jsxs)("div",{className:"editor-container",children:[Object(b.jsx)(u.a,{id:"editor-label",disabled:!0,value:e.editor}),e.isOwner&&Object(b.jsx)("button",{className:"delete-editor-button","aria-label":"delete",onClick:function(){e.onDeleteEditor(e.editor)},children:"X"})]})};var w=function(e){return Object(b.jsxs)("div",{className:"editor-list-container",children:[e.editors.slice(1).map((function(t){return Object(i.createElement)(C,Object(r.a)(Object(r.a)({},t),{},{key:t,editor:t,onDeleteEditor:e.onDeleteEditor,isOwner:e.isOwner}))})),Object(b.jsxs)("div",{id:"no-editors-message",children:[" ",1===e.editors.length?"This is currently a private list. Enter an email to share this list with a collaborator.":""," "]})]})};var D=function(e){var t=e.owner===e.user.email;return Object(b.jsx)("div",{className:"share-backdrop",children:Object(b.jsxs)("div",{className:"share-modal",children:[e.children,Object(b.jsxs)("div",{className:"share-buttons",children:[Object(b.jsxs)("div",{id:"share-message",children:["Share Settings",Object(b.jsx)("button",{tabIndex:"0",className:"cancel-share-button",id:"cancel-share",onClick:function(){return e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("add-editors")&&document.getElementById("add-editors").focus())},children:"X"})]}),Object(b.jsxs)("div",{id:"owner-message",children:["Owner: ",e.owner]}),Object(b.jsx)(N,{id:"add-editors",currListID:e.currListID,onAddEditor:e.onAddEditor,onDeleteEditor:e.onDeleteEditor}),Object(b.jsx)("div",{id:"share-message",children:"Editors"}),Object(b.jsx)(w,{id:"editors-list",owner:e.owner,editors:e.editors,onDeleteEditor:e.onDeleteEditor,isOwner:t})]})]})})};n(69);var L=function(e){return console.log("list item is",e.listID,e.listName),Object(b.jsxs)("div",{className:"shared-list-item-container",children:[Object(b.jsx)(h,{id:"list-item-label",value:e.listName,onChange:function(t){e.onListFieldChanged(e.listID,"listName",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("list-item-label")&&document.getElementById("list-item-label").blur())}}),Object(b.jsx)("div",{className:"collab-icon",children:Object(b.jsx)("i",{className:e.editors.length>1?"las la-user-friends":null})}),Object(b.jsx)("div",{className:"button-container",children:Object(b.jsx)("button",{className:"shared-view-list-button",onClick:function(){e.onListSelected(e.listID),e.showHomepage(!1),document.getElementById("home-button")&&document.getElementById("home-button").focus()},children:"View"})})]})};var S=function(e){var t=e.listName;return Object(b.jsx)("div",{id:"list-container",children:Object(b.jsxs)("div",{className:"checklist",children:[0===e.sharedListData.length?"No lists have been shared with you.":null,e.verified?e.sharedListData.map((function(n){return Object(b.jsx)(L,{listID:n.id,listName:n.listName,editors:n.editors,currListID:e.currListID,currListName:t,onListSelected:e.onListSelected,homepage:e.homepage,showHomepage:e.showHomepage,onDeleteList:e.onDeleteList,onListFieldChanged:e.onListFieldChanged})})):Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"You must verify your email in order to see lists that have been shared with you."}),Object(b.jsx)("button",{id:"verify-email-button-2",type:"button",onClick:e.handleVerifyEmail,children:"Send Verification Email"})]})]})})};n(70);var I=function(e){var t=["tab-list-item"];return e.activeTab===e.label&&t.push("tab-list-active"),Object(b.jsx)("li",{className:t.join(" "),onClick:function(){return e.onClickTab(e.label)},children:e.label})};n(71);var E=function(e){var t=Object(i.useState)(e.children[0].key),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(b.jsxs)("div",{className:"tabs",children:[Object(b.jsx)("div",{className:"tab-list",children:e.children.map((function(e){return Object(b.jsx)(I,{label:e.key,activeTab:a,onClickTab:function(e){return s(e)}},e.key)}))}),e.children.find((function(e){return e.key===a}))]})};var T=function(e){var t=Object(i.useState)(!0),n=Object(l.a)(t,2),a=n[0],s=n[1],o=e.taskList.filter((function(e){return a||!e.isCompleted})),c=e.listData.filter((function(t){return t.owner===e.user.email})),r=e.listData.filter((function(t){return t.owner!==e.user.email})),d=e.taskList.filter((function(e){return e.isCompleted})).length,u=Object(i.useState)(!0),j=Object(l.a)(u,2),h=j[0],m=j[1],O=Object(i.useState)(!1),p=Object(l.a)(O,2),x=p[0],k=p[1];function N(){k(!x)}return h?Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsx)("div",{className:"heading",children:Object(b.jsx)("h1",{children:Object(b.jsx)("div",{"aria-label":"Task Manager",className:"title",children:"- Task Manager -"})})}),Object(b.jsxs)(E,{classname:"tabs",children:[Object(b.jsx)(f,{className:"taskList",isOwner:e.isOwner,listData:c,editors:e.editors,currListID:e.currListID,currListName:e.currListName,onListSelected:e.handleListSelected,showHomepage:m,onAddList:e.handleAddList,onDeleteList:e.handleDeleteList,onListFieldChanged:e.handleListFieldChanged},"My Lists"),Object(b.jsx)(S,{className:"taskList",verified:e.verified,handleVerifyEmail:e.handleVerifyEmail,isOwner:e.isOwner,sharedListData:r,currListID:e.currListID,currListName:e.currListName,onListSelected:e.handleListSelected,showHomepage:m,onDeleteList:e.handleDeleteList,onListFieldChanged:e.handleListFieldChanged},"Shared With Me")]})]}):Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsxs)("div",{className:"heading",children:[Object(b.jsxs)("h1",{children:[Object(b.jsx)("button",{id:"home-button","aria-label":"Home Button",onClick:function(){m(!0)},children:Object(b.jsx)("i",{className:"las la-angle-left"})}),Object(b.jsx)("div",{className:"title",children:"Task Manager"}),Object(b.jsx)("button",{id:"share-button","aria-label":"Share Button",onClick:N,children:Object(b.jsx)("i",{className:"las la-user-plus"})}),x&&Object(b.jsx)(D,{onClose:N,currListID:e.currListID,owner:e.owner,user:e.user,editors:e.editors,onAddEditor:e.handleAddEditor,onDeleteEditor:e.handleDeleteEditor})]}),Object(b.jsx)("div",{children:Object(b.jsx)("h2",{children:e.currListName})})]}),Object(b.jsx)("div",{className:"top-button-bar",children:Object(b.jsx)("div",{className:"add-task",children:Object(b.jsx)(v,{taskList:o,onSetTaskList:e.setTaskList,onAddTask:e.handleAddTask})})}),Object(b.jsx)("div",{className:"taskList",children:Object(b.jsx)(g,{taskList:o,onDeleteTask:e.handleDeleteTask,onChangePriority:e.handleChangePriority,onDeleteTasks:e.handleDeleteTasks,onTaskFieldChanged:e.handleTaskFieldChanged,numCompleted:d})}),Object(b.jsx)("div",{className:"bottomBar",children:Object(b.jsx)(y,{onDeleteTasks:e.handleDeleteTasks,showCompleted:a,onSetShowCompleted:s,numCompleted:d,onSortSelected:e.handleSortSelected,sortOption:e.sortOption})})]})},P=n(27),A=n(32),B=(n(47),n(44));n(74);var F=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1],o=Object(i.useState)(!1),c=Object(l.a)(o,2),r=c[0],d=c[1];return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"reset-backdrop",children:Object(b.jsxs)("div",{className:"reset-modal",children:[e.children,Object(b.jsxs)("div",{id:"pass-reset-top",children:[Object(b.jsx)("div",{id:"pass-reset-title",children:"Password Reset"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{tabIndex:"0",className:"cancel-reset-button",onClick:function(){return e.onClose()},children:"X"})})]}),Object(b.jsx)("div",{id:"forgot-msg",children:"Forgot your password? Send a reset email to reset it."}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{className:"reset-email-input",value:a,onChange:function(e){return s(e.target.value)},onFocus:function(){return d(!1)},placeholder:"email",type:"email",onKeyPress:function(t){""!==a&&"Enter"===t.key&&Object(B.a)(e.auth,a).then((function(){d(!0)})).catch((function(e){d(!1)}))}})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"reset-password-button",onClick:function(){return Object(B.a)(e.auth,a).then((function(){d(!0)})).catch((function(e){d(!1)}))},children:"Send"})}),Object(b.jsx)("br",{}),r&&Object(b.jsxs)("div",{className:"success-msg",children:["Reset email successfully sent to ",a,"."]})]})})})},K=new P.a.auth.GoogleAuthProvider,V=new P.a.auth.GithubAuthProvider;var M=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1],o=Object(i.useState)(""),c=Object(l.a)(o,2),r=c[0],d=c[1],u=Object(A.c)(e.auth),j=[u[0],u[2],u[3]],h=j[0],m=j[1],O=j[2],f=Object(i.useState)(!1),p=Object(l.a)(f,2),g=p[0],v=p[1],x=Object(i.useState)(!1),k=Object(l.a)(x,2),y=k[0],N=k[1];function C(){N(!y)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(b.jsx)("input",{className:"signin-input",type:"email",value:a,onChange:function(e){return s(e.target.value)},placeholder:"email"}),Object(b.jsx)("input",{className:"signin-input",type:"password",value:r,onChange:function(e){return d(e.target.value)},placeholder:"password"})]}),Object(b.jsx)("button",{type:"submit",onClick:function(){return h(a,r)},className:"signin-button",children:"Sign In"}),Object(b.jsx)("div",{className:"signin-google",children:Object(b.jsxs)("button",{className:"sign-in-button",onClick:function(){return e.auth.signInWithPopup(K).then((function(){v(!1)})).catch((function(e){v(!0)}))},children:[Object(b.jsx)("img",{className:"google-logo",alt:"google logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/800px-Google_%22G%22_Logo.svg.png"}),"Sign In with Google"]})}),Object(b.jsx)("div",{className:"signin-google",children:Object(b.jsxs)("button",{className:"sign-in-button",onClick:function(){return e.auth.signInWithPopup(V).then((function(){v(!1)})).catch((function(e){v(!0)}))},children:[Object(b.jsx)("img",{className:"google-logo",alt:"github logo",src:"https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg"}),"Sign In with Github"]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{id:"forgot-pass-button","aria-label":"Reset Password Button",onClick:C,children:"Forgot Password?"}),y&&Object(b.jsx)(F,{auth:e.auth,onClose:C},"Reset Password")]}),!m&&O&&Object(b.jsx)("div",{className:"error-signin",children:"auth/weak-password"===O.code?"Password must be at least 6 characters long.":"auth/invalid-email"===O.code?"Please provide a valid email address.":"auth/email-already-in-use"===O.code?"This email already has an account associated with it. Try another sign in method.":"auth/internal-error"===O.code?"Please enter a valid username and password.":"auth/account-exists-with-different-credential"===O.code?"An account already exists with this email.":"auth/user-not-found"===O.code?"The user was not found. Try signing up with a new account.":"An error occurred. Check your credentials and try again."}),!m&&g&&Object(b.jsx)("div",{className:"error-provider",children:"An error occurred. You may already have an existing account with this email with another provider."})]})};n(75);var H=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1],o=Object(i.useState)(""),c=Object(l.a)(o,2),r=c[0],d=c[1],u=Object(i.useState)(""),j=Object(l.a)(u,2),h=j[0],m=j[1],O=Object(i.useState)(!1),f=Object(l.a)(O,2),p=f[0],g=f[1],v=Object(A.b)(e.auth),x=[v[0],v[2],v[3]],k=x[0],y=x[1],N=x[2];return Object(b.jsxs)("div",{className:"signup-page",children:[Object(b.jsxs)("div",{id:"signup-form",children:[Object(b.jsxs)("form",{className:"signup-form",onSubmit:function(e){return e.preventDefault()},children:[Object(b.jsx)("input",{className:"signin-input",value:a,onChange:function(e){return s(e.target.value)},placeholder:"email",type:"email"}),Object(b.jsx)("input",{className:"signin-input",value:r,onChange:function(e){return d(e.target.value)},placeholder:"password",type:"password"}),Object(b.jsx)("input",{value:h,onChange:function(e){return m(e.target.value)},placeholder:"retype password",type:"password",className:"signin-input"})]}),Object(b.jsx)("button",{className:"signin-button signup-form",onClick:function(){r!==h?(g(!0),console.log("passwords dont match")):(g(!1),k(a,r))},children:"Sign Up"}),Object(b.jsx)("br",{})]}),!y&&(N||p)&&Object(b.jsx)("div",{className:"error-signup",children:p?"Passwords do not match.":"auth/weak-password"===N.code?"Password must be at least 6 characters long.":"auth/invalid-email"===N.code?"Please provide a valid email address.":"auth/email-already-in-use"===N.code?"This email already has an account associated with it. Try another sign in method.":"auth/internal-error"===N.code?"Please enter a valid username and password.":"Some error occurred; please try again."})]})};var G=function(e){return Object(b.jsx)("div",{className:"app-container",children:Object(b.jsxs)("div",{className:"heading",children:[Object(b.jsx)("h1",{children:Object(b.jsx)("div",{"aria-label":"Task Manager",className:"title",children:"Task Manager"})}),Object(b.jsx)("div",{className:"auth-header",children:Object(b.jsxs)(E,{className:"tabs",children:[Object(b.jsx)(M,{auth:e.auth,user:e.user},"Sign In"),Object(b.jsx)(H,{auth:e.auth},"Sign Up")]})})]})})},R=n.p+"static/media/LoadingSymbol.e9f28dc7.gif",X=(n(76),n(42)),z=n(43);P.a.initializeApp({apiKey:"AIzaSyDQNFNc9MOCJM7dDkmRmHeJu2-vx_XdZPI",authDomain:"em-zhang-cs124-lab.firebaseapp.com",projectId:"em-zhang-cs124-lab",storageBucket:"em-zhang-cs124-lab.appspot.com",messagingSenderId:"791807570724",appId:"1:791807570724:web:8c92b693e902d7077ab9b1",measurementId:"G-2CLJDP4NEV"});var J=P.a.firestore(),_=P.a.auth();var U="list-items";function W(e){var t=J.collection(U).where("editors","array-contains",e.email),n=Object(z.a)(t),a=Object(l.a)(n,1)[0],s=[];a&&(s=a.docs.map((function(e){return Object(r.a)({},e.data())})));var o=Object(i.useState)("default-list"),d=Object(l.a)(o,2),u=d[0],j=d[1],h=J.collection(U).doc(u).collection("tasks"),m=Object(i.useState)("dateCreated"),O=Object(l.a)(m,2),f=O[0],p=O[1];h=h.orderBy(f,"priority"===f?"desc":"asc");var g=Object(z.a)(h),v=Object(l.a)(g,3),x=v[0],k=(v[1],v[2],[]);x&&(k=x.docs.map((function(e){return Object(r.a)({},e.data())})));var y="",N=null,C=null;s.length>0&&(s.filter((function(e){return e.id===u})).length>0&&(y=s.filter((function(e){return e.id===u}))[0].listName,N=s.filter((function(e){return e.id===u}))[0].owner,C=s.filter((function(e){return e.id===u}))[0].editors));var w=e.user.email===N;return Object(b.jsx)("div",{children:Object(b.jsx)(T,{user:e.user,listData:s,currListID:u,currListName:y,owner:N,isOwner:w,editors:C,verified:e.verified,handleVerifyEmail:e.handleVerifyEmail,handleAddEditor:function(e){console.log("In handleAddEditor"),J.collection(U).doc(u).update({editors:P.a.firestore.FieldValue.arrayUnion(e)})},handleDeleteEditor:function(e){J.collection(U).doc(u).update({editors:P.a.firestore.FieldValue.arrayRemove(e)})},handleAddList:function(t){var n=Object(X.a)();return J.collection(U).doc(n).set({id:n,listName:t,owner:e.email,editors:[e.email]}),n},handleListSelected:function(e){j(e)},handleDeleteList:function(e){J.collection(U).doc(e).delete()},handleListFieldChanged:function(e,t,n){J.collection(U).doc(e).update(Object(c.a)({},t,n))},taskList:k,handleDeleteTask:function(e){J.collection(U).doc(u).collection("tasks").doc(e).delete().catch((function(e){console.error("Error deleting document: ",e)}))},handleChangePriority:function(e,t){var n=J.collection(U).doc(u).collection("tasks").doc(e);1===t?n.update({priority:2}):2===t?n.update({priority:3}):3===t&&n.update({priority:1})},handleDeleteTasks:function(){J.collection(U).doc(u).collection("tasks").where("isCompleted","==",!0).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},handleAddTask:function(e){var t=Object(X.a)();return J.collection(U).doc(u).collection("tasks").doc(t).set({taskId:t,taskLabel:e,isCompleted:!1,priority:1,dateCreated:P.a.database.ServerValue.TIMESTAMP}).catch((function(e){console.error("Error writing document: ",e)})),t},handleTaskFieldChanged:function(e,t,n){J.collection(U).doc(u).collection("tasks").doc(e).update(Object(c.a)({},t,n)).catch((function(e){console.error("Error updating document: ",e)}))},handleSortSelected:function(e){p(e)},sortOption:f})})}var Y=function(e){var t=Object(A.a)(_),n=Object(l.a)(t,3),i=n[0],a=n[1],s=n[2];function o(){_.currentUser.sendEmailVerification()}return a?Object(b.jsx)("div",{className:"loading-message",children:Object(b.jsx)("img",{src:R,alt:"Loading..."})}):i?Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsxs)("div",{id:"user-id",children:[Object(b.jsx)("div",{children:Object(b.jsx)("i",{id:"profile-icon",className:i.emailVerified?"las la-user-check":"las la-user"})}),Object(b.jsx)("div",{id:"email",children:i.email})]}),Object(b.jsx)("div",{id:"profile-button",children:Object(b.jsx)("button",{id:"logout-button",type:"button",onClick:function(){return _.signOut()},children:Object(b.jsx)("i",{id:"logout-icon",className:"las la-sign-out-alt"})})}),!i.emailVerified&&Object(b.jsx)("button",{id:"verify-email-button",type:"button",onClick:o,children:"Verify"})]}),Object(b.jsx)(W,Object(r.a)(Object(r.a)({},e),{},{user:i,email:i.email,verified:i.emailVerified,handleVerifyEmail:o}))]}):Object(b.jsxs)(b.Fragment,{children:[s&&Object(b.jsxs)("p",{children:["Error App: ",s.message]}),Object(b.jsx)(G,{auth:_,user:i})]})};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(Y,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.c27c2cc4.chunk.js.map