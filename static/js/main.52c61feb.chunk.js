(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(15),s=n.n(a),i=n(42),o=n.n(i),c=(n(47),n(5)),l=n(28),d=n(16),r=(n(48),n(34)),b=(n(49),n(10));var u=function(e){return Object(b.jsxs)("div",{className:"list-item-container",children:[Object(b.jsx)(r.a,{className:"list-item-label",value:e.listName,onChange:function(t){e.onListFieldChanged(e.listID,"listName",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"view-list-button",onClick:function(){e.onListSelected(e.listID),e.showHomepage(!1)},children:"View"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"delete-list-button",onClick:function(){e.onDeleteList(e.listID)},children:"X"})})]})};n(51);var j=function(e){return Object(b.jsx)("div",{id:"list-container",children:Object(b.jsx)("div",{id:"list-menu",children:e.listData.map((function(t){return Object(b.jsx)(u,{listID:t.id,listName:t.listName,currListID:e.currListID,currListName:e.currListName,onListSelected:e.onListSelected,homepage:e.homepage,showHomepage:e.showHomepage,onDeleteList:e.onDeleteList,onListFieldChanged:e.onListFieldChanged})}))})})};n(52);var h=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],i=n[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"list-input",id:"new-list-text",placeholder:"Create a new list",value:s,onChange:function(e){i(e.target.value)},onKeyPress:function(t){""!==s&&"Enter"===t.key&&(e.onAddList(s),console.log("adding new list with name ",s),i(""))}}),Object(b.jsx)("button",{className:""!==s?"list-add-button":"list-add-button-disabled",onClick:function(){""!==s&&(e.onAddList(s),i(""))},children:"Add"})]})};n(53);var m=function(e){return Object(b.jsxs)("div",{className:"    task-container",children:[Object(b.jsx)("input",{type:"checkbox",className:"checkbox",checked:e.isCompleted,onChange:function(t){e.onTaskFieldChanged(e.taskId,"isCompleted",t.target.checked)}}),Object(b.jsx)(r.a,{className:e.isCompleted?"task-label-strikethrough":"task-label",value:e.taskLabel,onChange:function(t){e.onTaskFieldChanged(e.taskId,"taskLabel",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},disabled:e.isCompleted}),Object(b.jsx)("div",{className:"priority-button-container",children:Object(b.jsx)("button",{className:"priority-button",id:3===e.priority?"high":2===e.priority?"medium":"low",onClick:function(){console.log("Priority is",e.priority),e.onChangePriority(e.taskId,e.priority)},children:"!".repeat(e.priority)})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"delete-button",onClick:function(){e.onDeleteTask(e.taskId)},children:"X"})})]})};n(54);var O=function(e){return Object(b.jsx)("div",{id:"list-container",children:Object(b.jsx)("div",{id:"checklist",children:e.taskList.map((function(t){return Object(a.createElement)(m,Object(l.a)(Object(l.a)({},t),{},{key:t.taskId,onDeleteTask:e.onDeleteTask,onTaskFieldChanged:e.onTaskFieldChanged,onChangePriority:e.onChangePriority}))}))})})};n(55);var p=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],i=n[1];return Object(b.jsxs)("div",{className:"add-task-container",children:[Object(b.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new task",value:s,onChange:function(e){i(e.target.value)},onKeyPress:function(t){""!==s&&"Enter"===t.key&&(e.onAddTask(s),i(""))}}),Object(b.jsx)("button",{className:""!==s?"add-button":"add-button-disabled",onClick:function(){""!==s&&(e.onAddTask(s),i(""))},children:"Add"})]})};n(56);var k=function(e){return Object(b.jsx)("div",{className:"backdrop",children:Object(b.jsxs)("div",{className:"modal",children:[e.children,Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{className:"alert-button",id:"alert-ok",type:"button",onClick:function(){e.onOK(),e.onClose()},children:"OK"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-cancel",type:"button",onClick:function(){return e.onClose()},children:"Cancel"})]})]})})};n(57);var C=function(e){return Object(b.jsx)("div",{className:"sort-backdrop",children:Object(b.jsxs)("div",{className:"sort-modal",children:[e.children,Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-name",type:"button",onClick:function(){e.onSortByName(),e.onClose()},children:"taskLabel"===e.sortOption?"\u2713 Name":"Name"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-priority",type:"button",onClick:function(){e.onSortByPriority(),e.onClose()},children:"priority"===e.sortOption?"\u2713 Priority":"Priority"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-date",type:"button",onClick:function(){e.onSortByCreationDate(),e.onClose()},children:"dateCreated"===e.sortOption?"\u2713 Date Created":"Date Created"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-cancel",type:"button",onClick:function(){return e.onClose()},children:"Cancel"})]})]})})};n(58);var x=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(d.a)(o,2),l=c[0],r=c[1];function u(){i(!s)}function j(){r(!l)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"toolbar",children:[Object(b.jsxs)("button",{id:"sort-button",className:"toolbar-button",onClick:j,children:[Object(b.jsx)("i",{id:"sort-icon",className:"las la-sort-amount-down"}),Object(b.jsx)("br",{}),"Sort"]}),l&&Object(b.jsx)(C,{className:"toolbar-button",sortOption:e.sortOption,onClose:j,onSortByName:function(){e.onSortSelected("taskLabel")},onSortByPriority:function(){e.onSortSelected("priority")},onSortByCreationDate:function(){e.onSortSelected("dateCreated")},children:Object(b.jsxs)("div",{className:"sort-modal-message",children:["Tasks are currently sorted by ",Object(b.jsx)("b",{children:function(){var t="Date Created";return"dateCreated"===e.sortOption?t="Date Created":"priority"===e.sortOption?t="Priority":"taskLabel"===e.sortOption&&(t="Name"),t}()}),".",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Sort by:"]})}),Object(b.jsxs)("button",{className:"toolbar-button",id:"hide-button",onClick:function(){e.showCompleted?e.onSetShowCompleted(!1):e.onSetShowCompleted(!0)},children:[Object(b.jsx)("i",{id:"hide-icon",className:e.showCompleted?"las la-eye-slash":"las la-eye"}),Object(b.jsx)("br",{}),e.showCompleted?"Hide Completed":"Show All"]}),Object(b.jsxs)("button",{className:"toolbar-button",id:0!==e.numCompleted?"delete-button":"delete-completed-button-hidden",onClick:0!==e.numCompleted?u:null,children:[Object(b.jsx)("i",{id:"delete-icon",className:"las la-trash"}),Object(b.jsx)("br",{}),"Delete Completed"]})]}),s&&Object(b.jsx)(k,{onClose:u,onOK:function(){e.onDeleteTasks()},children:Object(b.jsxs)("div",{children:["Are you sure you want to delete all ",e.numCompleted," completed tasks?"]})})]})};var f=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),s=n[0],i=n[1],o=e.taskList.filter((function(e){return s||!e.isCompleted})),c=e.taskList.filter((function(e){return e.isCompleted})).length,l=Object(a.useState)(!0),r=Object(d.a)(l,2),u=r[0],m=r[1];return u?Object(b.jsxs)("div",{id:"homepage",children:[Object(b.jsxs)("div",{className:"heading",children:[Object(b.jsx)("h1",{children:Object(b.jsx)("div",{className:"title",children:"Task Manager"})}),Object(b.jsx)("div",{children:Object(b.jsx)("h2",{children:"Home Page"})})]}),Object(b.jsx)("div",{className:"home-top-bar",children:Object(b.jsx)("div",{className:"add-list",children:Object(b.jsx)(h,{onAddList:e.handleAddList,onListSelected:e.handleListSelected})})}),Object(b.jsx)("div",{className:"list-container",children:Object(b.jsx)(j,{listData:e.listData,currListID:e.currListID,currListName:e.currListName,onListSelected:e.handleListSelected,showHomepage:m,onDeleteList:e.handleDeleteList,onListFieldChanged:e.handleListFieldChanged})})]}):Object(b.jsxs)("div",{id:"app-container",children:[Object(b.jsxs)("div",{className:"heading",children:[Object(b.jsxs)("h1",{children:[Object(b.jsx)("button",{id:"home-button",onClick:function(){m(!0)},children:Object(b.jsx)("i",{className:"las la-angle-left"})}),Object(b.jsx)("div",{className:"title",children:"Task Manager"})]}),Object(b.jsx)("div",{children:Object(b.jsx)("h2",{children:e.currListName})})]}),Object(b.jsx)("div",{className:"topButtonBar",children:Object(b.jsx)("div",{className:"add-task",children:Object(b.jsx)(p,{taskList:o,onSetTaskList:e.setTaskList,onAddTask:e.handleAddTask})})}),Object(b.jsx)("div",{className:"taskList",children:Object(b.jsx)(O,{taskList:o,onDeleteTask:e.handleDeleteTask,onChangePriority:e.handleChangePriority,onDeleteTasks:e.handleDeleteTasks,onTaskFieldChanged:e.handleTaskFieldChanged,numCompleted:c})}),Object(b.jsx)("div",{className:"bottomBar",children:Object(b.jsx)(x,{onDeleteTasks:e.handleDeleteTasks,showCompleted:s,onSetShowCompleted:i,numCompleted:c,onSortSelected:e.handleSortSelected,sortOption:e.sortOption})})]})},v=n(39),N=n(36),y=n(40);N.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var g=N.a.firestore();var L=function(e){var t="em-zhang-tasks-v6",n=g.collection(t),s=Object(y.a)(n),i=Object(d.a)(s,3),o=i[0],r=(i[1],i[2],[]);o&&(r=o.docs.map((function(e){return Object(l.a)({},e.data())})));var u=Object(a.useState)("default-list"),j=Object(d.a)(u,2),h=j[0],m=j[1],O=g.collection(t).doc(h).collection("list-items"),p=Object(a.useState)("dateCreated"),k=Object(d.a)(p,2),C=k[0],x=k[1];C&&(O="priority"===C?O.orderBy(C,"desc"):O.orderBy(C));var L=Object(y.a)(O),S=Object(d.a)(L,3),D=S[0],T=S[1],w=(S[2],[]);D&&(w=D.docs.map((function(e){return Object(l.a)({},e.data())})));var I="";return r.length>0&&r.filter((function(e){return e.id===h})).length>0&&(I=r.filter((function(e){return e.id===h}))[0].listName),Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{listData:r,currListID:h,currListName:I,handleAddList:function(e){var n=Object(v.a)();return g.collection(t).doc(n).set({id:n,listName:e}),n},handleListSelected:function(e){m(e)},handleDeleteList:function(e){g.collection(t).doc(e).delete()},handleListFieldChanged:function(e,n,a){g.collection(t).doc(e).update(Object(c.a)({},n,a))},taskList:w,handleDeleteTask:function(e){g.collection(t).doc(h).collection("list-items").doc(e).delete()},handleChangePriority:function(e,n){var a=g.collection(t).doc(h).collection("list-items").doc(e);1===n?a.update({priority:2}):2===n?a.update({priority:3}):3===n&&a.update({priority:1})},handleDeleteTasks:function(){g.collection(t).where("isCompleted","==",!0).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},handleAddTask:function(e){var n=Object(v.a)();return g.collection(t).doc(h).collection("list-items").doc(n).set({taskId:n,taskLabel:e,isCompleted:!1,priority:1,dateCreated:N.a.database.ServerValue.TIMESTAMP}),n},handleTaskFieldChanged:function(e,n,a){g.collection(t).doc(h).collection("list-items").doc(e).update(Object(c.a)({},n,a))},handleSortSelected:function(e){x(e)},sortOption:C}),T&&Object(b.jsx)("div",{className:"loading-message",children:"Loading..."})]})};o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(L,{initialData:[{taskId:0,taskLabel:"Get lunch at dining hall",isCompleted:!0},{taskId:1,taskLabel:"Buy textbooks",isCompleted:!1},{taskId:2,taskLabel:"Watch videos about React",isCompleted:!0},{taskId:3,taskLabel:"Call Mom",isCompleted:!1},{taskId:4,taskLabel:"Meet with Prof. Rhodes",isCompleted:!1}]})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.52c61feb.chunk.js.map