(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n.n(a),s=n(42),i=n.n(s),c=(n(47),n(5)),l=n(28),d=n(16),r=(n(48),n(34)),u=(n(49),n(10));var b=function(e){return Object(u.jsxs)("div",{className:"list-item-container",children:[Object(u.jsx)(r.a,{id:"list-item-label",value:e.listName,onChange:function(t){e.onListFieldChanged(e.listID,"listName",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("list-item-label")&&document.getElementById("list-item-label").blur())}}),Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)("button",{className:"view-list-button",onClick:function(){e.onListSelected(e.listID),e.showHomepage(!1),document.getElementById("home-button")&&document.getElementById("home-button").focus()},children:"View"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{"aria-label":"Delete list button",className:"delete-list-button",onClick:function(){e.onDeleteList(e.listID)},children:"X"})})]})};n(51);var j=function(e){return Object(u.jsx)("div",{id:"list-container",children:Object(u.jsx)("div",{className:"checklist",children:e.listData.map((function(t){return Object(u.jsx)(b,{listID:t.id,listName:t.listName,currListID:e.currListID,currListName:e.currListName,onListSelected:e.onListSelected,homepage:e.homepage,showHomepage:e.showHomepage,onDeleteList:e.onDeleteList,onListFieldChanged:e.onListFieldChanged})}))})})};n(52);var m=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(u.jsxs)("div",{className:"add-task-container",children:[Object(u.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new list",value:o,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==o&&"Enter"===t.key&&(e.onAddList(o),s(""))}}),Object(u.jsx)("button",{id:""!==o?"list-add-button":"list-add-button-disabled",tabIndex:""!==o?0:1,onClick:function(){""!==o&&(e.onAddList(o),s(""))},children:"Add"})]})};n(53);var h=function(e){return Object(u.jsxs)("div",{className:"task-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"checkbox",checked:e.isCompleted,onChange:function(t){e.onTaskFieldChanged(e.taskId,"isCompleted",t.target.checked)},onKeyPress:function(t){"Enter"===t.key&&e.onTaskFieldChanged(e.taskId,"isCompleted",!e.isCompleted)}}),Object(u.jsx)(r.a,{id:e.isCompleted?"task-label-strikethrough":"task-label",value:e.taskLabel,onChange:function(t){e.onTaskFieldChanged(e.taskId,"taskLabel",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&document.getElementById("task-label")&&(e.preventDefault(),document.getElementById("task-label").blur())},disabled:e.isCompleted}),Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)("button",{className:"priority-button",id:3===e.priority?"high":2===e.priority?"medium":"low","aria-label":(3===e.priority?"high":2===e.priority?"medium":"low")+" priority",onClick:function(){e.onChangePriority(e.taskId,e.priority)},children:"!".repeat(e.priority)})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"delete-list-button","aria-label":"delete",onClick:function(){e.onDeleteTask(e.taskId)},children:"X"})})]})};n(54);var O=function(e){return Object(u.jsx)("div",{id:"list-container",children:Object(u.jsx)("div",{className:"checklist",children:e.taskList.map((function(t){return Object(a.createElement)(h,Object(l.a)(Object(l.a)({},t),{},{key:t.taskId,onDeleteTask:e.onDeleteTask,onTaskFieldChanged:e.onTaskFieldChanged,onChangePriority:e.onChangePriority}))}))})})};n(55);var p=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(u.jsxs)("div",{className:"add-task-container",children:[Object(u.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Create a new task",value:o,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==o&&"Enter"===t.key&&(e.onAddTask(o),s(""))}}),Object(u.jsx)("button",{className:""!==o?"add-button":"add-button-disabled",tabIndex:""!==o?0:1,onClick:function(){""!==o&&(e.onAddTask(o),s(""))},children:"Add"})]})};n(56);document.getElementById("alert-cancel")&&document.getElementById("alert-cancel").hasFocus()&&console.log("on cancel");var k=function(e){return Object(u.jsx)("div",{className:"backdrop",children:Object(u.jsxs)("div",{id:"modal",children:[e.children,Object(u.jsxs)("div",{className:"alert-buttons",children:[Object(u.jsx)("button",{id:"alert-ok",onClick:function(){e.onOK(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-cancel").focus())},children:"OK"}),Object(u.jsx)("button",{tabIndex:"0",className:"alert-button",id:"alert-cancel",onClick:function(){return e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-ok").focus())},children:"Cancel"})]})]})})};n(57);var f=function(e){return Object(u.jsx)("div",{className:"sort-backdrop",children:Object(u.jsxs)("div",{className:"sort-modal",children:[e.children,Object(u.jsxs)("div",{className:"sort-buttons",children:[Object(u.jsx)("button",{className:"alert-button",id:"alert-sort-date",type:"button",onClick:function(){e.onSortByCreationDate(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-name").focus())},children:"dateCreated"===e.sortOption?"\u2713 Date Created":"Date Created"}),Object(u.jsx)("button",{className:"alert-button",id:"alert-sort-name",type:"button",onClick:function(){e.onSortByName(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-priority").focus())},children:"taskLabel"===e.sortOption?"\u2713 Name":"Name"}),Object(u.jsx)("button",{className:"alert-button",id:"alert-sort-priority",type:"button",onClick:function(){e.onSortByPriority(),e.onClose()},onKeyDown:function(e){9===e.keyCode&&(e.preventDefault(),document.getElementById("alert-sort-date").focus())},children:"priority"===e.sortOption?"\u2713 Priority":"Priority"})]})]})})};n(58);var C=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(d.a)(i,2),l=c[0],r=c[1];function b(){var t="Date Created";return"dateCreated"===e.sortOption?t="Date Created":"priority"===e.sortOption?t="Priority":"taskLabel"===e.sortOption&&(t="Name"),t}function j(){s(!o)}function m(){r(!l)}return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"toolbar",children:[Object(u.jsxs)("button",{id:"sort-button",className:"toolbar-button",onClick:m,children:[Object(u.jsx)("i",{id:"sort-icon",className:"las la-sort-amount-down"}),Object(u.jsx)("br",{}),"Sort"]}),l&&Object(u.jsx)(f,{className:"toolbar-button",sortOption:e.sortOption,onClose:m,onSortByName:function(){e.onSortSelected("taskLabel")},onSortByPriority:function(){e.onSortSelected("priority")},onSortByCreationDate:function(){e.onSortSelected("dateCreated")},children:Object(u.jsxs)("div",{className:"sort-modal-message","aria-labelledby":"Tasks are currently sorted by"+b(),children:["Tasks are currently sorted by ",Object(u.jsx)("b",{children:b()}),".",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Sort by:"]})}),Object(u.jsxs)("button",{className:"toolbar-button",id:"hide-button",onClick:function(){e.showCompleted?e.onSetShowCompleted(!1):e.onSetShowCompleted(!0)},children:[Object(u.jsx)("i",{id:"hide-icon",className:e.showCompleted?"las la-eye-slash":"las la-eye"}),Object(u.jsx)("br",{}),e.showCompleted?"Hide Completed":"Show All"]}),Object(u.jsxs)("button",{className:"toolbar-button",id:0!==e.numCompleted?"delete-button":"delete-completed-button-hidden",disabled:0===e.numCompleted,onClick:j,children:[Object(u.jsx)("i",{id:"delete-icon",className:"las la-trash"}),Object(u.jsx)("br",{}),"Delete Completed"]})]}),o&&Object(u.jsx)(k,{onClose:j,onOK:function(){e.onDeleteTasks()},children:Object(u.jsxs)("div",{children:["Are you sure you want to delete all ",e.numCompleted," completed tasks?"]})})]})};var x=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),o=n[0],s=n[1],i=e.taskList.filter((function(e){return o||!e.isCompleted})),c=e.taskList.filter((function(e){return e.isCompleted})).length,l=Object(a.useState)(!0),r=Object(d.a)(l,2),b=r[0],h=r[1];return b?Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsxs)("div",{className:"heading",children:[Object(u.jsx)("h1",{children:Object(u.jsx)("div",{"aria-label":"Task Manager",className:"title",children:"Task Manager"})}),Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("h2",{children:"All Lists"})})]}),Object(u.jsx)("div",{className:"top-button-bar",children:Object(u.jsx)("div",{className:"add-task",children:Object(u.jsx)(m,{onAddList:e.handleAddList,onListSelected:e.handleListSelected})})}),Object(u.jsx)("div",{className:"taskList",children:Object(u.jsx)(j,{listData:e.listData,currListID:e.currListID,currListName:e.currListName,onListSelected:e.handleListSelected,showHomepage:h,onDeleteList:e.handleDeleteList,onListFieldChanged:e.handleListFieldChanged})})]}):Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsxs)("div",{className:"heading",children:[Object(u.jsxs)("h1",{children:[Object(u.jsx)("button",{id:"home-button","aria-label":"Home Button",onClick:function(){h(!0)},children:Object(u.jsx)("i",{className:"las la-angle-left"})}),Object(u.jsx)("div",{className:"title",children:"Task Manager"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("h2",{children:e.currListName})})]}),Object(u.jsx)("div",{className:"top-button-bar",children:Object(u.jsx)("div",{className:"add-task",children:Object(u.jsx)(p,{taskList:i,onSetTaskList:e.setTaskList,onAddTask:e.handleAddTask})})}),Object(u.jsx)("div",{className:"taskList",children:Object(u.jsx)(O,{taskList:i,onDeleteTask:e.handleDeleteTask,onChangePriority:e.handleChangePriority,onDeleteTasks:e.handleDeleteTasks,onTaskFieldChanged:e.handleTaskFieldChanged,numCompleted:c})}),Object(u.jsx)("div",{className:"bottomBar",children:Object(u.jsx)(C,{onDeleteTasks:e.handleDeleteTasks,showCompleted:o,onSetShowCompleted:s,numCompleted:c,onSortSelected:e.handleSortSelected,sortOption:e.sortOption})})]})},y=n(39),v=n.p+"static/media/LoadingSymbol.e9f28dc7.gif",g=n(36),N=n(40);g.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var L=g.a.firestore();var D=function(e){var t="em-zhang-tasks-v6",n=L.collection(t),o=Object(N.a)(n),s=Object(d.a)(o,1)[0],i=[];s&&(i=s.docs.map((function(e){return Object(l.a)({},e.data())})));var r=Object(a.useState)("default-list"),b=Object(d.a)(r,2),j=b[0],m=b[1],h=L.collection(t).doc(j).collection("list-items"),O=Object(a.useState)("dateCreated"),p=Object(d.a)(O,2),k=p[0],f=p[1];k&&(h="priority"===k?h.orderBy(k,"desc"):h.orderBy(k));var C=Object(N.a)(h),D=Object(d.a)(C,3),S=D[0],I=D[1],T=(D[2],[]);S&&(T=S.docs.map((function(e){return Object(l.a)({},e.data())})));var w="";return i.length>0&&i.filter((function(e){return e.id===j})).length>0&&(w=i.filter((function(e){return e.id===j}))[0].listName),Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{listData:i,currListID:j,currListName:w,handleAddList:function(e){var n=Object(y.a)();return L.collection(t).doc(n).set({id:n,listName:e}),n},handleListSelected:function(e){m(e)},handleDeleteList:function(e){L.collection(t).doc(e).delete()},handleListFieldChanged:function(e,n,a){L.collection(t).doc(e).update(Object(c.a)({},n,a))},taskList:T,handleDeleteTask:function(e){L.collection(t).doc(j).collection("list-items").doc(e).delete()},handleChangePriority:function(e,n){var a=L.collection(t).doc(j).collection("list-items").doc(e);1===n?a.update({priority:2}):2===n?a.update({priority:3}):3===n&&a.update({priority:1})},handleDeleteTasks:function(){L.collection(t).doc(j).collection("list-items").where("isCompleted","==",!0).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},handleAddTask:function(e){var n=Object(y.a)();return L.collection(t).doc(j).collection("list-items").doc(n).set({taskId:n,taskLabel:e,isCompleted:!1,priority:1,dateCreated:g.a.database.ServerValue.TIMESTAMP}),n},handleTaskFieldChanged:function(e,n,a){L.collection(t).doc(j).collection("list-items").doc(e).update(Object(c.a)({},n,a))},handleSortSelected:function(e){f(e)},sortOption:k}),I&&Object(u.jsx)("div",{className:"loading-message",children:Object(u.jsx)("img",{src:v,alt:"Loading..."})})]})};i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(D,{initialData:[{taskId:0,taskLabel:"Get lunch at dining hall",isCompleted:!0},{taskId:1,taskLabel:"Buy textbooks",isCompleted:!1},{taskId:2,taskLabel:"Watch videos about React",isCompleted:!0},{taskId:3,taskLabel:"Call Mom",isCompleted:!1},{taskId:4,taskLabel:"Meet with Prof. Rhodes",isCompleted:!1}]})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.6ec3b333.chunk.js.map