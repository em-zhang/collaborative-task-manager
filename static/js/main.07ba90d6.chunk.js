(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(19),o=n.n(a),s=n(39),i=n.n(s),c=(n(46),n(5)),l=n(28),r=n(15),d=(n(47),n(48),n(12));var b=function(e){return Object(d.jsxs)("div",{className:"task-container",children:[Object(d.jsx)("input",{type:"checkbox",className:"checkbox",checked:e.isCompleted,onChange:function(t){e.onTaskFieldChanged(e.taskId,"isCompleted",t.target.checked)}}),Object(d.jsx)("input",{className:e.isCompleted?"task-label-strikethrough":"task-label",value:e.taskLabel,onChange:function(t){console.log("editing task with taskId ",e.taskId),e.onTaskFieldChanged(e.taskId,"taskLabel",t.target.value)},onKeyPress:function(e){e.key},disabled:e.isCompleted}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"priority-button",id:3===e.priority?"high":2===e.priority?"medium":"low",onClick:function(){console.log("Priority is",e.priority),e.onChangePriority(e.taskId,e.priority)},children:"!".repeat(e.priority)})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"delete-button",onClick:function(){e.onDeleteTask(e.taskId)},children:"X"})})]})};n(50);var u=function(e){return Object(d.jsxs)("div",{id:"list-container",children:[Object(d.jsx)("div",{className:"no-tasks-message",children:Object(d.jsx)("h3",{children:e.taskList.length?"":"No current tasks."})}),Object(d.jsx)("div",{className:"checklist",children:e.taskList.map((function(t){return Object(a.createElement)(b,Object(l.a)(Object(l.a)({},t),{},{key:t.taskId,onDeleteTask:e.onDeleteTask,onTaskFieldChanged:e.onTaskFieldChanged,onChangePriority:e.onChangePriority}))}))})]})};n(51);var j=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),o=n[0],s=n[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Enter task here",value:o,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==o&&"Enter"===t.key&&(e.onAddTask(o),s(""))}}),Object(d.jsx)("button",{className:""!==o?"add-button":"add-button-disabled",onClick:function(){""!==o&&(e.onAddTask(o),s(""))},children:"Add"})]})};n(52);var h=function(e){return Object(d.jsx)("div",{className:"backdrop",children:Object(d.jsxs)("div",{className:"modal",children:[e.children,Object(d.jsxs)("div",{className:"alert-buttons",children:[Object(d.jsx)("button",{className:"alert-button",id:"alert-cancel",type:"button",onClick:function(){return e.onClose()},children:"Cancel"}),Object(d.jsx)("button",{className:"alert-button",id:"alert-ok",type:"button",onClick:function(){e.onOK(),e.onClose()},children:"OK"})]})]})})};n(53);var k=function(e){return Object(d.jsx)("div",{className:"sort-backdrop",children:Object(d.jsxs)("div",{className:"sort-modal",children:[e.children,Object(d.jsxs)("div",{className:"alert-buttons",children:[Object(d.jsx)("button",{className:"alert-button",id:"alert-sort-name",type:"button",onClick:function(){e.onSortByName(),e.onClose()},children:"taskLabel"===e.sortOption?"\u2713 Name":"Name"}),Object(d.jsx)("button",{className:"alert-button",id:"alert-sort-priority",type:"button",onClick:function(){e.onSortByPriority(),e.onClose()},children:"priority"===e.sortOption?"\u2713 Priority":"Priority"}),Object(d.jsx)("button",{className:"alert-button",id:"alert-sort-date",type:"button",onClick:function(){e.onSortByCreationDate(),e.onClose()},children:"dateCreated"===e.sortOption?"\u2713 Date Created":"Date Created"}),Object(d.jsx)("button",{className:"alert-button",id:"alert-sort-cancel",type:"button",onClick:function(){return e.onClose()},children:"Cancel"})]})]})})};n(54);var p=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(r.a)(i,2),l=c[0],b=c[1];function u(){s(!o)}function j(){b(!l)}return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"toolbar",children:[Object(d.jsx)("button",{className:"toolbar-button",onClick:j,children:"Sort Tasks"}),l&&Object(d.jsx)(k,{className:"toolbar-button",sortOption:e.sortOption,onClose:j,onSortByName:function(){e.onSortSelected("taskLabel")},onSortByPriority:function(){e.onSortSelected("priority")},onSortByCreationDate:function(){e.onSortSelected("dateCreated")},children:Object(d.jsxs)("div",{className:"sort-modal-message",children:["Tasks are currently sorted by ",Object(d.jsx)("b",{children:function(){var t="Date Created";return"dateCreated"===e.sortOption?t="Date Created":"priority"===e.sortOption?t="Priority":"taskLabel"===e.sortOption&&(t="Name"),t}()}),".",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"Sort by:"]})}),Object(d.jsx)("button",{className:"toolbar-button",id:"hide-button",onClick:function(){e.showCompleted?e.onSetShowCompleted(!1):e.onSetShowCompleted(!0)},children:e.showCompleted?"Hide Completed":"Show All"}),Object(d.jsx)("button",{className:"toolbar-button",id:0!==e.numCompleted?null:"delete-completed-button-hidden",onClick:0!==e.numCompleted?u:null,children:"Delete Completed"})]}),o&&Object(d.jsx)(h,{onClose:u,onOK:function(){e.onDeleteTasks()},children:Object(d.jsxs)("div",{children:["Are you sure you want to delete all ",e.numCompleted," completed tasks?"]})})]})};var m=function(e){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),o=n[0],s=n[1],i=e.taskList.filter((function(e){return o||!e.isCompleted})),c=e.taskList.filter((function(e){return e.isCompleted})).length;return Object(d.jsxs)("div",{id:"app-container",children:[Object(d.jsx)("div",{className:"heading",children:Object(d.jsx)("h1",{children:"Task Manager"})}),Object(d.jsx)("div",{className:"topButtonBar",children:Object(d.jsx)("div",{className:"add-task",children:Object(d.jsx)(j,{taskList:i,onSetTaskList:e.setTaskList,onAddTask:e.handleAddTask})})}),Object(d.jsx)("div",{className:"taskList",children:Object(d.jsx)(u,{taskList:i,onDeleteTask:e.handleDeleteTask,onChangePriority:e.handleChangePriority,onDeleteTasks:e.handleDeleteTasks,onTaskFieldChanged:e.handleTaskFieldChanged,numCompleted:c})}),Object(d.jsx)("div",{className:"bottomBar",children:Object(d.jsx)(p,{onDeleteTasks:e.handleDeleteTasks,showCompleted:o,onSetShowCompleted:s,numCompleted:c,onSortSelected:e.handleSortSelected,sortOption:e.sortOption})})]})},O=n(40),C=n(35),f=n(41);C.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var x=C.a.firestore();var y=function(e){var t="em-zhang-tasks-v4",n=x.collection(t),o=Object(a.useState)(null),s=Object(r.a)(o,2),i=s[0],b=s[1];i&&(n="priority"===i?n.orderBy(i,"desc"):n.orderBy(i));var u=Object(f.a)(n),j=Object(r.a)(u,3),h=j[0],k=(j[1],j[2],[]);return h&&(k=h.docs.map((function(e){return Object(l.a)({},e.data())}))),Object(d.jsxs)("div",{children:[Object(d.jsx)(m,{taskList:k,handleDeleteTask:function(e){console.log("deleting task, task ID is ",e),x.collection(t).doc(e).delete()},handleChangePriority:function(e,n){var a=x.collection(t).doc(e);1===n?a.update({priority:2}):2===n?a.update({priority:3}):3===n&&a.update({priority:1})},handleDeleteTasks:function(){x.collection(t).where("isCompleted","==",!0).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},handleAddTask:function(e){var n=Object(O.a)();return console.log("adding new task, task ID is ",n),x.collection(t).doc(n).set({taskId:n,taskLabel:e,isCompleted:!1,priority:1,dateCreated:C.a.database.ServerValue.TIMESTAMP}),n},handleTaskFieldChanged:function(e,n,a){x.collection(t).doc(e).update(Object(c.a)({},n,a))},handleSortSelected:function(e){b(e)},sortOption:i}),"/>"]})};i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(y,{initialData:[{taskId:0,taskLabel:"Get lunch at dining hall",isCompleted:!0},{taskId:1,taskLabel:"Buy textbooks",isCompleted:!1},{taskId:2,taskLabel:"Watch videos about React",isCompleted:!0},{taskId:3,taskLabel:"Call Mom",isCompleted:!1},{taskId:4,taskLabel:"Meet with Prof. Rhodes",isCompleted:!1}]})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.07ba90d6.chunk.js.map