(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n.n(a),s=n(39),i=n.n(s),c=(n(47),n(5)),r=n(28),l=n(16),d=(n(48),n(42)),b=(n(49),n(12));var u=function(e){return Object(b.jsxs)("div",{className:"task-container",children:[Object(b.jsx)("input",{type:"checkbox",className:"checkbox",checked:e.isCompleted,onChange:function(t){e.onTaskFieldChanged(e.taskId,"isCompleted",t.target.checked)}}),Object(b.jsx)(d.a,{className:e.isCompleted?"task-label-strikethrough":"task-label",value:e.taskLabel,onChange:function(t){e.onTaskFieldChanged(e.taskId,"taskLabel",t.target.value)},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},disabled:e.isCompleted}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"priority-button",id:3===e.priority?"high":2===e.priority?"medium":"low",onClick:function(){console.log("Priority is",e.priority),e.onChangePriority(e.taskId,e.priority)},children:"!".repeat(e.priority)})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"delete-button",onClick:function(){e.onDeleteTask(e.taskId)},children:"X"})})]})};n(51);var j=function(e){return Object(b.jsxs)("div",{id:"list-container",children:[Object(b.jsx)("div",{className:"no-tasks-message",children:Object(b.jsx)("h3",{children:e.taskList.length?"":"No current tasks."})}),Object(b.jsx)("div",{id:"checklist",children:e.taskList.map((function(t){return Object(a.createElement)(u,Object(r.a)(Object(r.a)({},t),{},{key:t.taskId,onDeleteTask:e.onDeleteTask,onTaskFieldChanged:e.onTaskFieldChanged,onChangePriority:e.onChangePriority}))}))})]})};n(52);var h=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],s=n[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"todo-input",id:"new-todo-text",placeholder:"Enter task here",value:o,onChange:function(e){s(e.target.value)},onKeyPress:function(t){""!==o&&"Enter"===t.key&&(e.onAddTask(o),s(""))}}),Object(b.jsx)("button",{className:""!==o?"add-button":"add-button-disabled",onClick:function(){""!==o&&(e.onAddTask(o),s(""))},children:"Add"})]})};n(53);var k=function(e){return Object(b.jsx)("div",{className:"backdrop",children:Object(b.jsxs)("div",{className:"modal",children:[e.children,Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{className:"alert-button",id:"alert-ok",type:"button",onClick:function(){e.onOK(),e.onClose()},children:"OK"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-cancel",type:"button",onClick:function(){return e.onClose()},children:"Cancel"})]})]})})};n(54);var p=function(e){return Object(b.jsx)("div",{className:"sort-backdrop",children:Object(b.jsxs)("div",{className:"sort-modal",children:[e.children,Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-name",type:"button",onClick:function(){e.onSortByName(),e.onClose()},children:"taskLabel"===e.sortOption?"\u2713 Name":"Name"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-priority",type:"button",onClick:function(){e.onSortByPriority(),e.onClose()},children:"priority"===e.sortOption?"\u2713 Priority":"Priority"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-date",type:"button",onClick:function(){e.onSortByCreationDate(),e.onClose()},children:"dateCreated"===e.sortOption?"\u2713 Date Created":"Date Created"}),Object(b.jsx)("button",{className:"alert-button",id:"alert-sort-cancel",type:"button",onClick:function(){return e.onClose()},children:"Cancel"})]})]})})};n(55);var m=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(l.a)(i,2),r=c[0],d=c[1];function u(){s(!o)}function j(){d(!r)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"toolbar",children:[Object(b.jsx)("button",{className:"toolbar-button",onClick:j,children:"Sort Tasks"}),r&&Object(b.jsx)(p,{className:"toolbar-button",sortOption:e.sortOption,onClose:j,onSortByName:function(){e.onSortSelected("taskLabel")},onSortByPriority:function(){e.onSortSelected("priority")},onSortByCreationDate:function(){e.onSortSelected("dateCreated")},children:Object(b.jsxs)("div",{className:"sort-modal-message",children:["Tasks are currently sorted by ",Object(b.jsx)("b",{children:function(){var t="Date Created";return"dateCreated"===e.sortOption?t="Date Created":"priority"===e.sortOption?t="Priority":"taskLabel"===e.sortOption&&(t="Name"),t}()}),".",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Sort by:"]})}),Object(b.jsx)("button",{className:"toolbar-button",id:"hide-button",onClick:function(){e.showCompleted?e.onSetShowCompleted(!1):e.onSetShowCompleted(!0)},children:e.showCompleted?"Hide Completed":"Show All"}),Object(b.jsx)("button",{className:"toolbar-button",id:0!==e.numCompleted?null:"delete-completed-button-hidden",onClick:0!==e.numCompleted?u:null,children:"Delete Completed"})]}),o&&Object(b.jsx)(k,{onClose:u,onOK:function(){e.onDeleteTasks()},children:Object(b.jsxs)("div",{children:["Are you sure you want to delete all ",e.numCompleted," completed tasks?"]})})]})};var O=function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),o=n[0],s=n[1],i=e.taskList.filter((function(e){return o||!e.isCompleted})),c=e.taskList.filter((function(e){return e.isCompleted})).length;return Object(b.jsxs)("div",{id:"app-container",children:[Object(b.jsx)("div",{className:"heading",children:Object(b.jsx)("h1",{children:"Task Manager"})}),Object(b.jsx)("div",{className:"topButtonBar",children:Object(b.jsx)("div",{className:"add-task",children:Object(b.jsx)(h,{taskList:i,onSetTaskList:e.setTaskList,onAddTask:e.handleAddTask})})}),Object(b.jsx)("div",{className:"taskList",children:Object(b.jsx)(j,{taskList:i,onDeleteTask:e.handleDeleteTask,onChangePriority:e.handleChangePriority,onDeleteTasks:e.handleDeleteTasks,onTaskFieldChanged:e.handleTaskFieldChanged,numCompleted:c})}),Object(b.jsx)("div",{className:"bottomBar",children:Object(b.jsx)(m,{onDeleteTasks:e.handleDeleteTasks,showCompleted:o,onSetShowCompleted:s,numCompleted:c,onSortSelected:e.handleSortSelected,sortOption:e.sortOption})})]})},C=n(40),f=n(35),x=n(41);f.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var y=f.a.firestore();var v=function(e){var t="em-zhang-tasks-v4",n=y.collection(t),o=Object(a.useState)("dateCreated"),s=Object(l.a)(o,2),i=s[0],d=s[1];i&&(n="priority"===i?n.orderBy(i,"desc"):n.orderBy(i));var u=Object(x.a)(n),j=Object(l.a)(u,3),h=j[0],k=(j[1],j[2],[]);return h&&(k=h.docs.map((function(e){return Object(r.a)({},e.data())}))),Object(b.jsx)("div",{children:Object(b.jsx)(O,{taskList:k,handleDeleteTask:function(e){console.log("deleting task, task ID is ",e),y.collection(t).doc(e).delete()},handleChangePriority:function(e,n){var a=y.collection(t).doc(e);1===n?a.update({priority:2}):2===n?a.update({priority:3}):3===n&&a.update({priority:1})},handleDeleteTasks:function(){y.collection(t).where("isCompleted","==",!0).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},handleAddTask:function(e){var n=Object(C.a)();return console.log("adding new task, task ID is ",n),y.collection(t).doc(n).set({taskId:n,taskLabel:e,isCompleted:!1,priority:1,dateCreated:f.a.database.ServerValue.TIMESTAMP}),n},handleTaskFieldChanged:function(e,n,a){y.collection(t).doc(e).update(Object(c.a)({},n,a))},handleSortSelected:function(e){d(e)},sortOption:i})})};i.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(v,{initialData:[{taskId:0,taskLabel:"Get lunch at dining hall",isCompleted:!0},{taskId:1,taskLabel:"Buy textbooks",isCompleted:!1},{taskId:2,taskLabel:"Watch videos about React",isCompleted:!0},{taskId:3,taskLabel:"Call Mom",isCompleted:!1},{taskId:4,taskLabel:"Meet with Prof. Rhodes",isCompleted:!1}]})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.befd3181.chunk.js.map